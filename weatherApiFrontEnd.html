<html>
<script type="text/javascript">
    function weatherApiCall() {
        var zip = document.getElementById('zipCode').value;
        var scale = document.getElementById('scale').value;
      //  alert(zip);
        var regex=new RegExp("[0-9]{5}");
        //alert(regex.test(zip));

        url="http://localhost:8080/locations/"+ zip + "/?scale=" + scale;
            if(regex.test(zip)){
              //alert("bye");
        document.getElementById("weatherform").action = url;
        }
        else {
          document.getElementById("weatherform").action = window.location.href;
          alert("Enter a valid 5 digit US Zip Code");
        }

    }
</script>
<body>
  <h1>Virginia CyberRange Yahoo Weather API</h1>

    <label>Zip Code (5 digit US Zip Code)</label>
    <input type="text" name="zipCode" id="zipCode" pattern="[0-9]{5}" required ></br></input>
      <form id="weatherform">
    <br>
    <label>Scale</label>
    <input type="radio" name="scale" value="f" id="scale" required checked>Fahrenheit
    <input type="radio" name="scale" value="c" id="scale" required>Celsius
    <br><br>
    <input type="submit" name"submit" value="Submit" onclick="weatherApiCall()" >
  </form>
<h4>Created by Vidur Kakar</h4>
  </body>
  </html>
